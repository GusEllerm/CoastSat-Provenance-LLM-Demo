```python exec
# This code makes the micropublication aware of its interface data.
from sklearn.metrics import r2_score, mean_squared_error
from sklearn.linear_model import LinearRegression
from typing import Optional, List, Dict, Any
from plotly.subplots import make_subplots
from shapely.geometry import LineString
from rocrate.rocrate import ROCrate, ContextEntity
from dataclasses import dataclass
from pandas import json_normalize
from types import SimpleNamespace
from datetime import datetime
from pathlib import Path
from scipy import stats
from math import sqrt

import plotly.graph_objects as go
import matplotlib.pyplot as plt
import plotly.express as px
import geopandas as gpd
import contextily as cx 
import pandas as pd
import numpy as np
import statistics
import requests
import folium
import json
import sys
import os
import re

# For this example, we'll use a fixed site_id
site_id = "nzd0001"
```

```python exec
# Load the interface.crate and batch_processes.crate manifest files (if available)
# For deployment, we primarily rely on cached data files
interface_crate_path = Path.cwd() / "interface.crate" 
batch_processes_crate_path = interface_crate_path / "batch_processes"

# Check for cached data files
cached_shoreline_path = Path.cwd() / "cached_shoreline.geojson"
cached_primary_result_path = Path.cwd() / "cached_primary_result.geojson"

try:
    if interface_crate_path.exists() and batch_processes_crate_path.exists():
        interface_crate = ROCrate(interface_crate_path)
        batch_processes_crate = ROCrate(batch_processes_crate_path)
    else:
        print("Local crate files not found - using cached data files only")
        interface_crate = None
        batch_processes_crate = None
except Exception as e:
    interface_crate = None
    batch_processes_crate = None
    print(f"Error loading interface and batch processes crates (will use cached data): {e}")
```

```python exec
# Function to extract commit date from GitHub API
def get_commit_date(github_commit_url):
    """Extract commit date from a GitHub commit URL"""
    if not github_commit_url:
        return None
    
    # Extract repo and commit hash from URL
    import re
    match = re.match(r"https://github\.com/(.+)/(.+)/commit/([a-f0-9]+)", github_commit_url)
    if not match:
        return None
    
    owner, repo, commit_hash = match.groups()
    
    try:
        # Make API request to get commit info
        import requests
        api_url = f"https://api.github.com/repos/{owner}/{repo}/commits/{commit_hash}"
        response = requests.get(api_url)
        if response.status_code == 200:
            commit_data = response.json()
            commit_date = commit_data['commit']['committer']['date']
            # Convert to readable format
            from datetime import datetime
            dt = datetime.fromisoformat(commit_date.replace('Z', '+00:00'))
            return dt.strftime('%B %d, %Y')
        else:
            return None
    except Exception as e:
        print(f"Error fetching commit date: {e}")
        return None

# Extract version information
coastsat_version = interface_crate.mainEntity.get("version") if interface_crate else None
coastsat_commit_date = get_commit_date(coastsat_version)
```

```python exec
module_dir = Path.cwd()  # this is the directory with extract_steps_mini.py
sys.path.insert(0, str(module_dir))
from extract_steps_mini import extract_step_dicts
step_dicts = extract_step_dicts("interface.crate")
```

# Site Report: `site_id`{python exec}

::: for step in step_dicts

### {{step.name}}

::: template_describe [openai/gpt-5] Describe this step which was executed with a workflow. The step had these inputs: {{step.inputs}}, and these outputs: {{step.outputs}}. Was written in this programming language: {{step.programmingLanguage}}, and can be found at this code repository: {{step.codeRepository}}. For more context here is the raw metadata: {{step.raw}}. Describe it in two paragraphs. :::

:::
